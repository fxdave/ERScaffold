<%

let meta = {
	creates: {
		fileName: "lib/" 
		+ Formatter.snakeCase(APPNAME) 
		+ "_web/templates/" 
		+ Formatter.snakeCase(entity.getName()) 
		+ "/form.html.eex"
	},
	depends_on: [
		{ tempalte: "../view/view.template.ejs", data: {entity: entity} }
	]
} 

%>

<%%= form_for @changeset, @action, fn f -> %%>
  <%%= if @changeset.action do %%>
    <div class="alert alert-danger">
      <p>Oops, something went wrong! Please check the errors below.</p>
    </div>
  <%% end %%>

  <% entity.getProps().forEach(function(p) { %>
	<%%= label f, :<%=p.getName() %> %%>
  	<%%= text_input f, :<%=p.getName() %> %%>
  	<%%= error_tag f, :<%=p.getName() %> %%>
  <% } %>

  <div>
    <%%= submit "Save" %%>
  </div>
<%% end %%>